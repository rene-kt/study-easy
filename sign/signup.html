<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Renê Arraes Viera Júnior">

    <link rel="shortcut icon" href="../imgs/logo.png" />


    <title>Study Easy</title>

    <!-- Font Awesome Icons -->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css'>

    <!-- Plugin CSS -->
    <link href="vendor/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Theme CSS - Includes Bootstrap -->
    <link href="sign.css" rel="stylesheet">
    <link href="../css/owner.css" rel="stylesheet">



    <!-- LightBox Css -->
    <link rel="stylesheet" href="../css/bootstrap.css">

    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="js/creative.js"></script>



    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">



    <style>
        @media only screen and (max-device-width: 750px) {
            .logo-img {
                width: 175px !important;
                height: 100px !important;
            }
        }
        /* The snackbar - position it at the top and in the middle of the screen */
        
        #snackbar-sucess {
            visibility: hidden;
            /* Hidden by default. Visible on click */
            min-width: 250px;
            /* Set a default minimum width */
            margin-left: -125px;
            /* Divide value of min-width by 2 */
            background-color: #333;
            /* Black background color */
            color: #fff;
            /* White text color */
            text-align: center;
            /* Centered text */
            border-radius: 2px;
            /* Rounded borders */
            padding: 16px;
            /* Padding */
            position: fixed;
            /* Sit on top of the screen */
            z-index: 1000;
            /* Add a z-index if needed */
            left: 50%;
            /* Center the snackbar */
            top: 100px;
            /* 100px from the top */
        }
        
        #snackbar-failed {
            visibility: hidden;
            /* Hidden by default. Visible on click */
            min-width: 250px;
            /* Set a default minimum width */
            margin-left: -125px;
            /* Divide value of min-width by 2 */
            background-color: #333;
            /* Black background color */
            color: #fff;
            /* White text color */
            text-align: center;
            /* Centered text */
            border-radius: 2px;
            /* Rounded borders */
            padding: 16px;
            /* Padding */
            position: fixed;
            /* Sit on top of the screen */
            z-index: 1000;
            /* Add a z-index if needed */
            left: 50%;
            /* Center the snackbar */
            top: 100px;
            /* 100px from the top */
        }
        /* Show the snackbar when clicking on a button (class added with JavaScript) */
        
        #snackbar-sucess.show {
            visibility: visible;
            /* Show the snackbar */
            /* Add animation: Take 0.5 seconds to fade in and out the snackbar.
  However, delay the fade out process for 2.5 seconds */
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        
        #snackbar-failed.show {
            visibility: visible;
            /* Show the snackbar */
            /* Add animation: Take 0.5 seconds to fade in and out the snackbar.
  However, delay the fade out process for 2.5 seconds */
            -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        /* An
        /* Animations to fade the snackbar in and out */
        
        @-webkit-keyframes fadein {
            from {
                top: 0;
                opacity: 0;
            }
            to {
                top: 100px;
                opacity: 1;
            }
        }
        
        @keyframes fadein {
            from {
                top: 0;
                opacity: 0;
            }
            to {
                top: 100px;
                opacity: 1;
            }
        }
        
        @-webkit-keyframes fadeout {
            from {
                top: 100px;
                opacity: 1;
            }
            to {
                top: 0;
                opacity: 0;
            }
        }
        
        @keyframes fadeout {
            from {
                top: 100px;
                opacity: 1;
            }
            to {
                top: 0;
                opacity: 0;
            }
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 navbar-desktop" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="../index.html"> <img id="image-id" class="logo-img img-fluid" style="width: 220px; height: 220px; " src="../imgs/logo-white.png"></a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto my-2 my-lg-0">

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#services">Matérias</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#questoes">Questões</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#cardapio">Dicas</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#telefone">Enem</a>
                    </li>

                    <li class="nav-item  ">
                        <a class="nav-link js-scroll-trigger" href="#telefone">REGISTER</a>
                    </li>

                    <li class="nav-item ">
                        <a class="nav-link js-scroll-trigger" href="#telefone">LOGIN</a>
                    </li>



                </ul>
            </div>
        </div>
    </nav>

    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 navbar-mobile" id="mainNav">
        <div class="container">
            <a class="navbar-brand js-scroll-trigger" href="../index.html">Study Easy</a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto my-2 my-lg-0">

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#services">Matérias</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#questoes">Questões</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#cardapio">Dicas</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link js-scroll-trigger" href="#telefone">Enem</a>
                    </li>

                    <li class="nav-item  ">
                        <a class="nav-link js-scroll-trigger" href="#telefone">REGISTER</a>
                    </li>

                    <li class="nav-item ">
                        <a class="nav-link js-scroll-trigger" href="#telefone">LOGIN</a>
                    </li>



                </ul>
            </div>
        </div>
    </nav>


    <div class="form" id="login">
        <div class="form-toggle"></div>
        <div class="form-panel one">
            <div class="form-header">
                <h1>Login</h1>
            </div>
            <div class="form-content">
                <form>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input id="email" type="text" name="email" required="required" />
                    </div>
                    <div class="form-group">
                        <label for="senha">Senha</label>
                        <input id="senha" type="password" name="senha" required="required" />
                    </div>

                    <div class="form-group">
                        <button type="button" onclick="login()">Login</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="form-panel two">
            <div class="form-header">
                <h1>Cadastre-se</h1>
            </div>
            <div class="form-content">
                <form>

                    <div class="form-group">
                        <label for="name">Nome</label>
                        <input id="name" type="text" name="name" required="required" />
                    </div>

                    <div class="form-group">
                        <label for="usuario">Username</label>
                        <input id="usuario" type="text" name="usuario" required="required" />
                    </div>
                    <div class="form-group">
                        <label for="senha">Senha</label>
                        <input id="senha" type="password" name="senha" required="required" />
                    </div>

                    <div class="form-group">
                        <label for="email">E-mail</label>
                        <input id="email" type="email" name="email" required="required" />
                    </div>
                    <div class="form-group">
                        <button type="button" onclick="register()">Cadastrar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <!-- The actual snackbar -->
    <div id="snackbar-sucess">Você foi cadastrado com sucesso!</div>


    <!-- The actual snackbar -->
    <div id="snackbar-failed">Login e/ou senha incorretos</div>


</body>

<script>
    const login = async() => {



        var formElement = document.querySelector('form');
        var formData = new FormData(formElement);


        var object = {};
        formData.forEach(function(value, key) {
            object[key] = value;
        });
        var json = JSON.stringify(object);


        console.log(json);

        const response = await fetch('http://localhost:6060/Login', {
            method: 'POST',
            body: json,
            headers: {
                'Content-Type': 'application/json',

            }
        });
        const myJson = await response.json();

        if (myJson['error'] != null) {
            var x = document.getElementById("snackbar-failed");

            // Add the "show" class to DIV
            x.className = "show";

            setTimeout(function() {
                x.className = x.className.replace("show", "");
            }, 3000);
        } else {
            window.location.href = "../index.html";
        }




    }

    const register = async() => {



        var formElement = document.querySelectorAll('form');
        var formData = new FormData(formElement[1]);


        var object = {};
        formData.forEach(function(value, key) {
            object[key] = value;
        });
        var json = JSON.stringify(object);



        const response = await fetch('http://localhost:6060/Register', {
            method: 'POST',
            body: json,
            headers: {
                'Content-Type': 'application/json',

            }
        });
        const myJson = await response.json();

        console.log(myJson);

        var x = document.getElementById("snackbar-sucess");

        // Add the "show" class to DIV
        x.className = "show";

        setTimeout(function() {
            x.className = x.className.replace("show", "");
        }, 3000);




    }
</script>

<script src="sign.js    "></script>

<script src="../api.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
</script>


</html>